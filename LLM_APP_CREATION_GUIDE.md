# ü§ñ LLM Guide: Creating Apps for Clipcade

**For:** AI assistants creating mini-apps  
**Platform:** clipcade.com  
**Format:** JSON manifest

---

## üéØ App Structure

Every app is defined by a JSON manifest with these sections:

### Required Fields
```json
{
  "id": "unique-app-id",
  "name": "User-Facing App Name",
  "description": "What the app does (1-2 sentences)",
  "tags": ["category1", "category2"],
  "design": { /* styling */ },
  "inputs": { /* form fields */ },
  "outputs": { /* result format */ },
  "runtime": { /* execution logic */ }
}
```

---

## üé® Visual Design Variables

### Card Appearance (Feed/Profile)
```json
{
  "preview_gradient": "linear-gradient(135deg, #color1 0%, #color2 100%)",
  "preview_type": "image",
  "icon": "üé®"  // Emoji representing the app
}
```

**Note:** `preview_url` is auto-generated by Gemini Nano Banana

### Output Container Design
```json
{
  "design": {
    "containerColor": "linear-gradient(135deg, #667eea 0%, #764ba2 100%)",
    "fontColor": "white",
    "fontFamily": "system-ui",
    "inputLayout": "vertical"
  }
}
```

**Color Palettes (Recommended):**
- Purple/Blue: `linear-gradient(135deg, #667eea 0%, #764ba2 100%)`
- Pink/Red: `linear-gradient(135deg, #f093fb 0%, #f5576c 100%)`  
- Blue/Cyan: `linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)`
- Green: `linear-gradient(135deg, #10b981 0%, #059669 100%)`
- Orange: `linear-gradient(135deg, #f5af19 0%, #f12711 100%)`

---

## üìù Input Fields

### Supported Input Types
```json
{
  "inputs": {
    "fieldName": {
      "type": "string|image|select|email",
      "label": "Display Label",
      "placeholder": "Example text...",
      "required": true,
      "default": "default value"
    }
  }
}
```

**Examples:**

**Text Input:**
```json
{
  "topic": {
    "type": "string",
    "label": "Topic",
    "placeholder": "e.g., artificial intelligence",
    "required": true
  }
}
```

**Image Upload:**
```json
{
  "photo": {
    "type": "image",
    "label": "Upload Photo",
    "accept": "image/*",
    "required": true
  }
}
```

**Dropdown:**
```json
{
  "style": {
    "type": "select",
    "label": "Art Style",
    "options": [
      { "value": "ghiblify", "label": "üé® Ghiblify" },
      { "value": "pixelate", "label": "üëæ Pixelate" }
    ],
    "default": "ghiblify"
  }
}
```

---

## üõ†Ô∏è Available Tools

### 1. llm.complete - Text Generation
```json
{
  "tool": "llm.complete",
  "args": {
    "prompt": "Summarize this: {{userInput}}"
  },
  "output": "summary"
}
```

**Uses:** OpenAI GPT-4o-mini  
**Good for:** Summaries, rewrites, analysis, generation  
**Web Search:** Auto-enabled if prompt contains URLs or "search the web"

### 2. image.process - Image Generation/Transform
```json
{
  "tool": "image.process",
  "args": {
    "image": "{{uploadedImage}}",
    "instruction": "Transform to {{style}} style"
  },
  "output": "transformedImage"
}
```

**Uses:** Gemini 2.5 Flash Image  
**Good for:** Style transfer, image editing, generation  
**Returns:** Generated image

### 3. email.send - Email Delivery
```json
{
  "tool": "email.send",
  "args": {
    "to": "{{userEmail}}",
    "subject": "Your Result",
    "content": "{{previousStepOutput}}"
  },
  "output": "emailStatus"
}
```

**Uses:** Resend API  
**Good for:** Sending results, notifications, digests

---

## üîó Multi-Step Workflows

**Chain tools together:**
```json
{
  "runtime": {
    "engine": "local",
    "steps": [
      {
        "tool": "llm.complete",
        "args": { "prompt": "Summarize: {{url}}" },
        "output": "summary"
      },
      {
        "tool": "email.send",
        "args": {
          "to": "{{email}}",
          "content": "{{summary.markdown}}"
        },
        "output": "result"
      }
    ]
  }
}
```

**Variable interpolation:** Use `{{varName}}` to reference inputs or previous step outputs

---

## üìä Complete App Example

```json
{
  "id": "mood-journal",
  "name": "Daily Mood Journal",
  "description": "Track your mood and get AI-powered insights",
  "icon": "üìî",
  "tags": ["wellbeing", "journal", "ai"],
  
  "preview_gradient": "linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)",
  
  "design": {
    "containerColor": "linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)",
    "fontColor": "#2d3748",
    "fontFamily": "Georgia, serif",
    "inputLayout": "vertical"
  },
  
  "inputs": {
    "mood": {
      "type": "select",
      "label": "How are you feeling?",
      "options": [
        { "value": "happy", "label": "üòä Happy" },
        { "value": "sad", "label": "üò¢ Sad" },
        { "value": "anxious", "label": "üò∞ Anxious" }
      ],
      "required": true
    },
    "thoughts": {
      "type": "string",
      "label": "What's on your mind?",
      "placeholder": "Share your thoughts...",
      "required": false
    }
  },
  
  "outputs": {
    "markdown": { "type": "string" }
  },
  
  "runtime": {
    "engine": "local",
    "steps": [{
      "tool": "llm.complete",
      "args": {
        "prompt": "User feels {{mood}}. Thoughts: {{thoughts}}. Provide 3 supportive insights and a helpful action."
      },
      "output": "insights"
    }]
  },
  
  "is_published": true
}
```

---

## üéÆ HTML5 GAMES - FEASIBILITY ANALYSIS

### ‚úÖ HIGHLY FEASIBLE!

**What's Needed:**

**1. New Output Type:**
```json
{
  "outputs": {
    "html": { 
      "type": "html",
      "sandboxed": true 
    }
  }
}
```

**2. New Tool: html.generate**
```json
{
  "tool": "html.generate",
  "args": {
    "prompt": "Create a tic-tac-toe game with {{theme}} colors",
    "type": "game|visualization|interactive"
  },
  "output": "gameHtml"
}
```

**3. Secure Rendering:**
```jsx
{output.html && (
  <iframe
    srcDoc={output.html}
    sandbox="allow-scripts allow-same-origin"
    style={{ width: '100%', height: 500, borderRadius: 12 }}
  />
)}
```

### Security Considerations

**‚úÖ Safe with sandboxing:**
- `sandbox="allow-scripts"` - Allow game logic
- No `allow-top-navigation` - Can't redirect
- No `allow-forms` - Can't submit outside
- No network access
- Isolated from parent page

**‚úÖ LLM-generated HTML is reviewable:**
- Can scan for malicious code
- Can whitelist allowed tags
- Can strip dangerous attributes

### Game Examples (Easy to Build)

**Tier 1: Simple (30 min each)**
- Tic-Tac-Toe
- Memory card game
- Color picker
- Simple calculator
- Dice roller
- Coin flip simulator

**Tier 2: Medium (1 hour each)**
- Snake game
- Flappy bird clone
- Typing speed test
- Whack-a-mole
- Simple quiz game
- Drawing canvas

**Tier 3: Complex (2-3 hours)**
- Tetris
- Maze generator
- Physics simulations
- Music visualizer
- Graph plotter

---

## üöÄ Implementation Roadmap

### Phase 1: Add html.generate Tool (2 hours)
```javascript
// In lib/tools.js
export async function tool_html_generate({ args }) {
  const prompt = `Generate HTML5 ${args.type} for: ${args.prompt}
  
Requirements:
- Self-contained HTML with CSS and JS
- No external dependencies
- Mobile-friendly
- Use these colors: ${args.colors}
- Include reset/restart button

Return complete HTML in <html> tags.`;

  const llmRes = await openai.chat.completions.create({
    model: 'gpt-4o',
    messages: [{ role: 'user', content: prompt }]
  });
  
  return {
    output: { html: llmRes.choices[0].message.content }
  };
}
```

### Phase 2: Iframe Rendering (30 min)
```javascript
// In AppOutput.js
if (output.html) {
  return (
    <iframe
      srcDoc={output.html}
      sandbox="allow-scripts"
      style={{ 
        width: '100%', 
        height: 500, 
        border: 'none',
        borderRadius: 12 
      }}
    />
  );
}
```

### Phase 3: Example Game Apps (1 hour)
- Create 2-3 simple game apps
- Test security
- Verify performance
- Publish to feed

---

## üìñ Creating Apps - Quick Reference

### For LLMs Creating Apps:

**1. Choose clear name/description**
**2. Pick gradient colors (use presets above)**
**3. Define inputs (what user provides)**
**4. Choose tool(s):**
- Text ‚Üí llm.complete
- Images ‚Üí image.process  
- Email ‚Üí email.send
- Games ‚Üí html.generate (coming soon!)

**5. Write prompt template with {{variables}}**
**6. Set design colors to match theme**
**7. Add relevant tags**

### Quick Start Template:
```json
{
  "id": "my-app-name",
  "name": "My App Name",
  "description": "One sentence description",
  "preview_gradient": "linear-gradient(135deg, #color1 0%, #color2 100%)",
  "design": {
    "containerColor": "/* same or complementary gradient */",
    "fontColor": "white"
  },
  "inputs": { /* user inputs */ },
  "runtime": {
    "steps": [{ 
      "tool": "llm.complete",
      "args": { "prompt": "Do something with {{input}}" }
    }]
  },
  "tags": ["category"],
  "is_published": true
}
```

---

## ‚úÖ Summary

**Current System:**
- 9 editable variables ‚úÖ
- 3 AI tools available ‚úÖ
- Multi-step workflows ‚úÖ
- Good for text/image/email apps ‚úÖ

**Missing (Easy to Add):**
- Card-level theming (30 min)
- Modal customization (30 min)
- Input styling (30 min)
- Icon/emoji (15 min)

**Future (HTML5 Games):**
- Highly feasible! ‚úÖ
- 2-3 hours to implement
- Opens up huge possibilities
- Games, visualizations, interactive tools

**Recommendation:** 
1. Add missing variables (2 hours)
2. Create 5-10 more apps with current tools
3. Then add HTML5 support for games

---

**Everything is ready for scaling app creation!** üöÄ

